{% set translationDomain = "overview" %}
{% trans_default_domain translationDomain %}

{% if disableedit is defined and disableedit == true %}
    {% set allowEdit = false %}
{% else %}
    {% set allowEdit = true %}
{% endif %}

{% if linkToSubSection is not defined %}
    {% set linkToSubSection = path(subSection, {reportId: report.id}) %}
{% endif %}

<div id="{{ subSection }}-sub-section" class="descriptive-list-item">
    {% if allowEdit == true %}
        <a class="behat-link-edit-{{ subSection }}" id="edit-{{ subSection }}" href="{{ linkToSubSection }}" aria-label="{{ (subSection ~ '.edit') | trans }}">
    {% endif %}
    <h3 class="heading heading-medium">{{ (subSection ~ '.subSectionTitle') | trans }}</h3>
    <span class="status {{ state }}">
        {% if state == 'done' %} {# "done" label depends on the section therefore defined for each section #}
            {{ (subSection ~ '.label.' ~ state) | transchoice(nOfRecords | default(0)) }}
        {% else %}
            {{ ('labels.' ~ state) | trans }}
        {% endif %}
    </span>

    <span  class="edit-link {% if allowEdit == false %}disabled{% endif %}" {% if allowEdit == true %}href="{{ linkToSubSection }}"{% endif %} >
        {% if state == 'not-started' %}
            {{ (subSection ~ '.start') | trans }}
        {% else %}
            {{ (subSection ~ '.edit') | trans }}
        {% endif %}
    </span>

    {%  if description is defined and description %}
        <p class="description">{{ (subSection ~ '.subSectionDescription') | trans({'%client%': report.client.firstname}) }}</p>
    {%  endif %}


    {% if allowEdit == true %}
        </a>
    {% endif %}
</div>
