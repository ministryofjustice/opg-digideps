services:
    App\EventListener\SessionListener:
        arguments: [ "@router" , "@logger", {idleTimeout: "%session_expire_seconds%"}]
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onKernelRequest }

    logout_listener:
      class:   App\EventListener\LogoutListener
      arguments: ["@security.token_storage", "@rest_client", "@router"]

    App\EventListener\ResponseNoCacheListener:
       tags:
            - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

    App\EventListener\AuthTokenExpiredListener:
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }

    App\Service\RequestIdLoggerProcessor:
        arguments: [ "@service_container" ]
        tags:
            - { name: monolog.processor, method: processRecord }

    App\EventListener\LoginEventListener:
        arguments:
            - '@event_dispatcher'
            - '@App\Service\Redirector'
        tags:
            - { name: kernel.event_listener, event: security.interactive_login, method: onSecurityInteractiveLogin }

    App\EventListener\ResponseHeadersListener:
        tags:
              - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }
