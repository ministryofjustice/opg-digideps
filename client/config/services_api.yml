services:
    GuzzleHttp\Client:
        arguments:
          $config:
            base_uri: "%api_base_url%"
            verify: false
            headers:
                Content-Type: application/json
            timeout: 20
            allow_redirects: false

    App\Service\Client\RestClientInterface:
        alias: App\Service\Client\RestClient

    App\Service\Client\RestClient:
        arguments:
            - '@service_container'
            - '@GuzzleHttp\Client'
            - '@App\Service\Client\TokenStorage\RedisStorage'
            - '@jms_serializer'
            - '@logger'
            - '%api_client_secret%'

    rest_client:
        alias: App\Service\Client\RestClient
